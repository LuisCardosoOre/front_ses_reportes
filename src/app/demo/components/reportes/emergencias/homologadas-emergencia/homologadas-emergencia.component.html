<div class="grid">
    <div class="col-12">
        <div class="card p-fluid">
            <div class="formgrid grid">
                <div class="field col-12 md:col-3">
                    <label>Red</label>
                    <p-dropdown [options]="redes" optionLabel="desc_red" [(ngModel)]="selectedRed"
                        placeholder="Seleccione red">
                    </p-dropdown>
                </div>
                <div class="field col-12 md:col-3">
                    <label>Centro</label>
                    <p-dropdown [options]="selectedRed?.centros || []" optionLabel="desc_centro"
                        [(ngModel)]="selectedCentro" placeholder="Seleccione centro" [disabled]="!selectedRed">
                    </p-dropdown>
                </div>
            </div>

            <div class="flex justify-content-end gap-2 mt-2">
                <p-button label="Aplicar Filtros" icon="pi pi-filter" (click)="aplicarFiltro()" />
                <p-button label="Limpiar Filtros" icon="pi pi-times" styleClass="p-button-secondary"
                    (click)="limpiarFiltro()" />
            </div>
        </div>
    </div>

    <div class="col-12">
        <div class="card">
            <div class="flex justify-content-end gap-2 mt-2">
                <p-button label="Exportar" icon="pi pi-file-excel" styleClass="p-button-success"
                    (click)="exportToExcel()" />
            </div>
            <h5>Tabla enlaces homologadas - Emergencia</h5>
            <p-table [value]="dataFiltrada" [paginator]="true" [rows]="10" responsiveLayout="scroll"
                styleClass="p-datatable-sm" [resizableColumns]="true">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Centro</th>
                        <th>Topico</th>
                        <th>Emergencia</th>
                        <th>Prioridad</th>
                        <th>√Årea Emergencia</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-row>
                    <tr>
                        <td>{{ row.cod_centro }}</td>
                        <td>{{ row.desc_topico }}</td>
                        <td>{{ row.cod_emergencia }}</td>
                        <td>{{ row.desc_prioridad2 }}</td>
                        <td>{{ row.areas_emergencia }}</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>